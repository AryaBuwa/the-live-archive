      - name: Wake Apps
        run: |
          python - <<EOF
          from playwright.sync_api import sync_playwright

          urls = [
              "https://cafemenu.streamlit.app",
              "https://vibescan.streamlit.app"
          ]

          with sync_playwright() as p:
              browser = p.chromium.launch(headless=True)

              for url in urls:
                  print(f"\nOpening {url}")
                  page = browser.new_page()
                  page.goto(url, timeout=60000)

                  # Wait up to 25 seconds for wake button
                  try:
                      page.get_by_role("button", name="Yes, get this app back up!").click(timeout=25000)
                      print("Clicked wake button.")
                  except:
                      print("Wake button not found (app may already be awake).")

                  # Wait 25 more seconds so Streamlit fully loads
                  page.wait_for_timeout(25000)
                  print("Waited 25 seconds for full load.")

                  page.close()

              browser.close()

          print("All apps processed.")
          EOF